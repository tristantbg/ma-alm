{"version":3,"sources":["app.concat.js"],"names":["width","$","window","height","l_in1","l_in2","l_out1","l_out2","r_in1","r_in2","r_out1","r_out2","ref","clone","inChanged","outChanged","backgroundPosition","lastX","imagesWidth","isMobile","collection","instacollection","instaInit","idx","token","num_photos","nextUrl","$root","app","init","resize","event","sizeSet","changeInside","changeOutside","document","ready","$body","getElementById","c_l_in1","c_l_in2","c_l_out1","c_l_out2","c_r_in1","c_r_in2","c_r_out1","c_r_out2","instamode","getInstaImages","all","landscape","concat","portrait","startDrag","load","fadeOut","Modernizr","touch","hashtag","console","log","ajax","url","dataType","type","data","access_token","count","success","x","length","push","images","standard_resolution","pagination","next_url","undefined","error","alert","generateImages","num","div","i","random","side","fillWithChilds","rand","minBoxes","maxBoxes","innerHTML","cloneColumns","target","proxy","container","update","maxH","newY","y","way","positionY","Math","abs","maxW","delta","newX","positionX","TweenLite","set","overwrite","Draggable","create","trigger","zIndexBoost","dragResistance","onDrag","onThrowUpdate","throwProps","el","N","n","weight","main","hei","wid","orient","child","createElement","className","setAttribute","appendChild","halfN","newWid","newHei","clientHeight","clientWidth","goIndex","History","pushState","$sitetitle","location","origin","loadContent","html","deferImages","imgDefer","getElementsByTagName","getAttribute","Array","prototype","floor","min","max"],"mappings":"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","file":"app.js","sourcesContent":["/* globals $:false */\nvar width = $(window).width(),\n    height = $(window).height(),\n    l_in1, l_in2, l_out1, l_out2,\n    r_in1, r_in2, r_out1, r_out2,\n    ref, clone,\n    inChanged, outChanged,\n    backgroundPosition = ['top left', 'bottom left', 'center', 'top right', 'bottom right'],\n    lastX,\n    imagesWidth = [1, 2, 3, 4],\n    isMobile = false,\n    collection,\n    instacollection = [],\n    instaInit = true,\n    idx = 0,\n    token = '234790120.55f62e1.674b375f110240c1ac7daedb74be5b69',\n    num_photos = 20,\n    nextUrl = false,\n    $root = '/';\n$(function() {\n    var app = {\n        init: function() {\n            $(window).resize(function(event) {\n                app.sizeSet();\n                app.changeInside();\n                app.changeOutside();\n            });\n            $(document).ready(function($) {\n                $body = $('body');\n                app.sizeSet();\n                // History.Adapter.bind(window, 'statechange', function() {\n                //     var State = History.getState();\n                //     console.log(State);\n                //     var content = State.data;\n                //     if (content.type == 'project') {\n                //         $body.addClass('project loading');\n                //         app.loadContent(State.url + '/ajax', slidecontainer);\n                //     }\n                // });\n                ref = document.getElementById('reference');\n                l_in1 = document.getElementById('l-in-1');\n                l_in2 = document.getElementById('l-in-2');\n                l_out1 = document.getElementById('l-out-1');\n                l_out2 = document.getElementById('l-out-2');\n                r_in1 = document.getElementById('r-in-1');\n                r_in2 = document.getElementById('r-in-2');\n                r_out1 = document.getElementById('r-out-1');\n                r_out2 = document.getElementById('r-out-2');\n                clone = document.getElementById('clone');\n                c_l_in1 = document.getElementById('c_l-in-1');\n                c_l_in2 = document.getElementById('c_l-in-2');\n                c_l_out1 = document.getElementById('c_l-out-1');\n                c_l_out2 = document.getElementById('c_l-out-2');\n                c_r_in1 = document.getElementById('c_r-in-1');\n                c_r_in2 = document.getElementById('c_r-in-2');\n                c_r_out1 = document.getElementById('c_r-out-1');\n                c_r_out2 = document.getElementById('c_r-out-2');\n                if (instamode) {\n                    app.getInstaImages();\n                } else {\n                    collection.all = collection.landscape.concat(collection.portrait);\n                    app.changeInside();\n                    app.changeOutside();\n                }\n                app.startDrag();\n                $(window).load(function() {\n                    $(\".loader\").fadeOut(\"fast\");\n                });\n            });\n        },\n        sizeSet: function() {\n            width = $(window).width();\n            height = $(window).height();\n            if (width <= 770 || Modernizr.touch) isMobile = true;\n            if (isMobile) {\n                if (width >= 770) {\n                    //location.reload();\n                }\n            }\n        },\n        getInstaImages: function() {\n            if (instamode) {\n                if (instaInit) {\n                    nextUrl = 'https://api.instagram.com/v1/tags/' + hashtag + '/media/recent';\n                    instaInit = false;\n                }\n                console.log(nextUrl);\n                if (nextUrl) {\n                    console.log(\"loadNext\");\n                    $.ajax({\n                        url: nextUrl,\n                        dataType: 'jsonp',\n                        type: 'GET',\n                        data: {\n                            access_token: token,\n                            count: num_photos\n                        },\n                        success: function(data) {\n                            console.log(data);\n                            for (var x = 0; x < data.data.length; x++) {\n                                instacollection.push(data.data[x].images.standard_resolution.url);\n                            }\n                            console.log(instacollection);\n                            if (typeof data.pagination.next_url !== typeof undefined) {\n                                nextUrl = data.pagination.next_url;\n                            } else {\n                                nextUrl = false;\n                            }\n                            app.changeInside();\n                            app.changeOutside();\n                        },\n                        error: function(data) {\n                            console.log(data);\n                            alert(\"Too much requests...\");\n                        }\n                    });\n                }\n            }\n        },\n        generateImages: function(num) {\n            var div = '';\n            for (var i = 0; i < num; i++) {\n                div += '<div class=\"grid-item ' + ['contain', 'cover'].random() + ' w' + imagesWidth.random() + ' h' + imagesWidth.random() + '\" style=\"background-image: url(' + collection.random() + ')\" /></div>';\n            }\n            return div;\n        },\n        changeInside: function(side) {\n            app.getInstaImages();\n            if (side == 'left') {\n                app.fillWithChilds(l_in1, rand(minBoxes, maxBoxes));\n                app.fillWithChilds(l_in2, rand(minBoxes, maxBoxes));\n            } else if (side == 'right') {\n                app.fillWithChilds(r_in1, rand(minBoxes, maxBoxes));\n                app.fillWithChilds(r_in2, rand(minBoxes, maxBoxes));\n            } else {\n                app.fillWithChilds(l_in1, rand(minBoxes, maxBoxes));\n                app.fillWithChilds(l_in2, rand(minBoxes, maxBoxes));\n                app.fillWithChilds(r_in1, rand(minBoxes, maxBoxes));\n                app.fillWithChilds(r_in2, rand(minBoxes, maxBoxes));\n                //Clone\n                c_l_in1.innerHTML = l_in1.innerHTML;\n                c_l_in2.innerHTML = l_in2.innerHTML;\n                c_r_in1.innerHTML = r_in1.innerHTML;\n                c_r_in2.innerHTML = r_in2.innerHTML;\n            }\n            //app.cloneColumns();\n        },\n        changeOutside: function(side) {\n            app.getInstaImages();\n            if (side == 'left') {\n                app.fillWithChilds(l_out1, rand(minBoxes, maxBoxes));\n                l_out2.innerHTML = l_out1.innerHTML;\n            } else if (side == 'right') {\n                app.fillWithChilds(r_out1, rand(minBoxes, maxBoxes));\n                r_out2.innerHTML = r_out1.innerHTML;\n            } else {\n                app.fillWithChilds(l_out1, rand(minBoxes, maxBoxes));\n                l_out2.innerHTML = l_out1.innerHTML;\n                app.fillWithChilds(r_out1, rand(minBoxes, maxBoxes));\n                r_out2.innerHTML = r_out1.innerHTML;\n                //Clone\n                c_l_out1.innerHTML = l_out1.innerHTML;\n                c_l_out2.innerHTML = l_out2.innerHTML;\n                c_r_out1.innerHTML = r_out1.innerHTML;\n                c_r_out2.innerHTML = r_out2.innerHTML;\n            }\n            //app.cloneColumns();\n        },\n        cloneColumns: function() {\n            clone.innerHTML = ref.innerHTML;\n        },\n        startDrag: function() {\n            var target = $(\"#target\"),\n                proxy = $(\"#proxy\"),\n                container = $(\"#container\");\n\n            function update() {\n                //Calcute Y\n                var maxH = height * 6;\n                var newY = this.y % maxH;\n                var way = newY / height;\n                var positionY = Math.abs(way);\n                //console.log(positionY);\n                if (newY > 0) {\n                    newY = newY - maxH;\n                }\n                if (positionY >= 0 && positionY < 2 || positionY >= 4 && positionY < 6) {\n                    //console.log(positionY + ' OUT');\n                    if (positionY < 0.1 && way < 0) {\n                        if (!inChanged) {\n                            console.log('change IN');\n                            app.changeInside();\n                            inChanged = true;\n                        }\n                    } else {\n                        inChanged = false;\n                    }\n                } else {\n                    //console.log(positionY + ' IN');\n                    if (positionY > 3 && positionY < 3.05) {\n                        if (!outChanged) {\n                            console.log('change OUT');\n                            app.changeOutside();\n                            outChanged = true;\n                        }\n                    } else {\n                        outChanged = false;\n                    }\n                }\n                //Calcute X\n                var maxW = width * 2;\n                var delta = lastX - this.x;\n                var newX = this.x % maxW;\n                var positionX = Math.abs(newX / width);\n                if (newX > 0) {\n                    newX = newX - maxW;\n                }\n                //place target\n                TweenLite.set(target, {\n                    x: newX,\n                    y: newY,\n                    overwrite: false\n                });\n                lastX = this.x;\n                this.x = newX;\n                this.y = newY;\n            }\n            Draggable.create(proxy, {\n                type: 'xy',\n                trigger: container,\n                zIndexBoost: false,\n                dragResistance: 0.4,\n                onDrag: update,\n                onThrowUpdate: update,\n                throwProps: true\n            });\n        },\n        fillWithChilds: function(el, N) {\n            el.innerHTML = '';\n\n            function rand(n) {\n                /* weight=100 means no random\n                   weight=0 means totally random  */\n                var weight = 50;\n                return ((weight * n / 2 + n * (100 - weight) * Math.random()) | 0) / 100;\n            }\n\n            function main(N, x, y, hei, wid) {\n                if (N === 1) {\n                    var url;\n                    var orient;\n                    var child = document.createElement('div');\n  \n                    if (instamode) {\n                        if (idx > instacollection.length - 1) {\n                            idx = 0;\n                        }\n                        url = instacollection[idx];\n                        child.className = 'grid-item insta';\n                        child.setAttribute('style', 'background-image: url(' + url + '); position: absolute; top:' + y + 'px; left:' + x + 'px; height:' + hei + 'px; width:' + wid + 'px');\n                        //child.setAttribute('data-bg', url);\n                        //console.log(idx);\n                        idx++;\n                    } else {\n                        //url = collection.all.random();\n                        if (hei / wid > 1) {\n                            orient = 'portrait';\n                            if (!instamode) {\n                                url = collection.portrait.random();\n                            }\n                        } else {\n                            orient = 'landscape';\n                            if (!instamode) {\n                                url = collection.landscape.random();\n                            }\n                        }\n                        child.setAttribute('style', 'background-image: url(' + url + '); position: absolute; top:' + y + 'px; left:' + x + 'px; height:' + hei + 'px; width:' + wid + 'px');\n                        child.className = 'grid-item';\n                        //child.setAttribute('data-bg', url);\n                        //child.setAttribute('data-expand', 1000);\n                        //child.setAttribute('data-sizes', 'auto');\n                    }\n                    el.appendChild(child);\n                    return;\n                }\n                var halfN = N / 2 | 0;\n                if (wid > hei) {\n                    var newWid = rand(wid);\n                    if (2 * newWid > wid) halfN = N - halfN;\n                    main(halfN, x, y, hei, newWid);\n                    main(N - halfN, x + newWid, y, hei, wid - newWid);\n                } else {\n                    var newHei = rand(hei);\n                    if (2 * newHei > hei) halfN = N - halfN;\n                    main(halfN, x, y, newHei, wid);\n                    main(N - halfN, x, y + newHei, hei - newHei, wid);\n                }\n            }\n            main(N, 0, 0, el.clientHeight, el.clientWidth);\n        },\n        goIndex: function() {\n            History.pushState({\n                type: 'index'\n            }, $sitetitle, window.location.origin + $root);\n        },\n        loadContent: function(url, target) {\n            $.ajax({\n                url: url,\n                success: function(data) {\n                    $(target).html(data);\n                }\n            });\n        },\n        deferImages: function() {\n            var imgDefer = document.getElementsByTagName('img');\n            for (var i = 0; i < imgDefer.length; i++) {\n                if (imgDefer[i].getAttribute('data-src')) {\n                    imgDefer[i].setAttribute('src', imgDefer[i].getAttribute('data-src'));\n                }\n            }\n        }\n    };\n    app.init();\n});\nArray.prototype.random = function() {\n    return this[Math.floor((Math.random() * this.length))];\n};\n\nfunction rand(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}"]}